IF OBJECT_ID('dbo.ACM_SETTING_NOTIFICATION', 'U') IS NOT NULL
DROP TABLE dbo.ACM_SETTING_NOTIFICATION;

CREATE TABLE ACM_SETTING_NOTIFICATION(
    ID_ACM_SETTING_NOTIFICATION BIGINT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	CATEGORY VARCHAR (256) NOT NULL, -- REMINDER / WORKFLOW
	TYPE_NOTIF VARCHAR (256) NOT NULL, -- EMAIL / SMS / NOTIF
    
	ACM_ENABLED BIT NOT NULL,
	DATE_INSERTION DATETIME NULL,
	INSERT_BY  VARCHAR (256) NULL,
	DATE_LAST_UPDATE DATETIME NULL,
	UPDATED_BY  VARCHAR (256) NULL,
	ACM_VERSION INT NULL

);

IF OBJECT_ID('dbo.ACM_USERS_NOTIFICATION', 'U') IS NOT NULL
DROP TABLE dbo.ACM_USERS_NOTIFICATION;

CREATE TABLE ACM_USERS_NOTIFICATION(
    ID_ACM_USERS_NOTIFICATION BIGINT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	ID_ACM_SETTING_NOTIFICATION BIGINT NOT NULL, 
	USERNAME VARCHAR (256) NOT NULL, 
	STATUT BIT NOT NULL,
	
	ACM_ENABLED BIT NOT NULL,
	DATE_INSERTION DATETIME NULL,
	INSERT_BY  VARCHAR (256) NULL,
	DATE_LAST_UPDATE DATETIME NULL,
	UPDATED_BY  VARCHAR (256) NULL,
	ACM_VERSION INT NULL,
	
	FOREIGN KEY (ID_ACM_SETTING_NOTIFICATION) REFERENCES ACM_SETTING_NOTIFICATION (ID_ACM_SETTING_NOTIFICATION),
	FOREIGN KEY (USERNAME) REFERENCES ACM_USERS (USERNAME)
);